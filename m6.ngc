(Pocket Table)
(minor edit)
o<m6> sub
M65 P0
M65 P1
M65 P2
#51 = 102
#52 = 132
#53 = 162
#54 = 192
#55 = 222
#56 = 252
#57 = 282
#58 = 312
#59 = 342
#60 = 012
#61 = 042
#62 = 072
#<toolToPickupPos> = #[#<_selected_tool>+50]
#<ZClearHeight>	= 11.75
#<ZPickHeight>	= 8.32
o100 if [ #<_current_tool> GT 0 ]
	#<toolToReturnPos> = #[#<_current_tool>+50]
	G53 G0 Z#<ZPickHeight>	(Retract to safe Z)
	M64 P1				(Extend ATC)
	M66 P0 L4 Q15			(Wait for ATC to extend, up to 15s)
	G53 A#<toolToReturnPos> 
	M64 P0				(Release tool)
	G4 P3
	G53 G0 Z#<ZClearHeight>
(Wait for drawbar switch)
	#<toolToReturnPos> = 0
	M61 Q0
o100 else
	G53 G0 Z#<ZClearHeight>
	M64 P0				(Release tool)
	M64 P1				(Extend ATC)
	M66 P0 L4 Q15			(Wait for ATC to extend, up to 15s)
o100 endif
G53 G0 A#<toolToPickupPos>
G53 G1 Z8.1873 F30
M65 P0
G4 P2
G53 G0 Z8.32
M65 P1			(End extend)
M64 P2			(Retract ATC)
M66 P1 L4 Q15		(Wait for retract)
M65 P2			(End retract)
M61 Q#<_selected_tool>	(Set active tool number)
o<m6> endsub
